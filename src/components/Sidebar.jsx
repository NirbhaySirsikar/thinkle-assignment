import React, { useState, useEffect } from "react";
import { Link, useLocation } from "react-router-dom";
import "../styles/Sidebar.css";
import Button from "../components/Button";
import Modal from "../components/Modal";
import BankDetailsForm from "../components/BankDetailsForm";

const Sidebar = () => {
  const location = useLocation();
  const [collapsed, setCollapsed] = useState(false);
  const [isMobile, setIsMobile] = useState(window.innerWidth <= 1024);
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const [isModalOpen, setIsModalOpen] = useState(false);

  useEffect(() => {
    const handleResize = () => {
      setIsMobile(window.innerWidth <= 1024);
      if (window.innerWidth > 1024) {
        setMobileMenuOpen(false);
      }
    };

    window.addEventListener("resize", handleResize);
    return () => window.removeEventListener("resize", handleResize);
  }, []);

  const openModal = () => {
    setIsModalOpen(true);
  };

  const closeModal = () => {
    setIsModalOpen(false);
  };

  const toggleSidebar = () => {
    setCollapsed(!collapsed);
  };

  const toggleMobileMenu = () => {
    setMobileMenuOpen(!mobileMenuOpen);
  };

  return (
    <>
      {isMobile && (
        <div className="mobile-header">
          <button className="hamburger-menu" onClick={toggleMobileMenu}>
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3 12H21"
                stroke="black"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M3 6H21"
                stroke="black"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M3 18H21"
                stroke="black"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
          </button>
          <>
            {location.pathname === "/" && (
              <Button onClick={openModal}>Add Bank Details</Button>
            )}
          </>
        </div>
      )}

      {isMobile && mobileMenuOpen && (
        <div className="sidebar-overlay" onClick={toggleMobileMenu}></div>
      )}

      <aside
        className={`sidebar ${collapsed ? "collapsed" : ""} ${
          isMobile ? "mobile" : ""
        } ${mobileMenuOpen ? "open" : ""}`}
      >
        {isMobile && (
          <div className="mobile-sidebar-header">
            <div className="logo">thinkle.</div>
            <button className="close-btn" onClick={toggleMobileMenu}>
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M18 6L6 18"
                  stroke="white"
                  strokeWidth="2"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
                <path
                  d="M6 6L18 18"
                  stroke="white"
                  strokeWidth="2"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </svg>
            </button>
          </div>
        )}

        {!isMobile && (
          <div className="logo-container">
            <a href="/" className={`logo ${collapsed ? "collapsed" : ""}`}>
              thinkle.
            </a>
            <button className="collapse-btn" onClick={toggleSidebar}>
              <svg
                width="18"
                height="18"
                viewBox="0 0 18 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M15 4.66045e-09C15.7652 -4.26217e-05 16.5015 0.292325 17.0583 0.817284C17.615 1.34224 17.9501 2.06011 17.995 2.824L18 3V15C18 15.7652 17.7077 16.5015 17.1827 17.0583C16.6578 17.615 15.9399 17.9501 15.176 17.995L15 18H3C2.23479 18 1.49849 17.7077 0.941739 17.1827C0.384993 16.6578 0.0498925 15.9399 0.00500012 15.176L4.66045e-09 15V3C-4.26217e-05 2.23479 0.292325 1.49849 0.817284 0.941739C1.34224 0.384993 2.06011 0.0498925 2.824 0.00500012L3 4.66045e-09H15ZM15 2H6V16H15C15.2449 16 15.4813 15.91 15.6644 15.7473C15.8474 15.5845 15.9643 15.3603 15.993 15.117L16 15V3C16 2.75507 15.91 2.51866 15.7473 2.33563C15.5845 2.15259 15.3603 2.03566 15.117 2.007L15 2ZM12.707 6.293C12.8792 6.46519 12.9826 6.69429 12.9979 6.93732C13.0132 7.18035 12.9393 7.4206 12.79 7.613L12.707 7.707L11.415 9L12.707 10.293C12.8792 10.4652 12.9826 10.6943 12.9979 10.9373C13.0132 11.1803 12.9393 11.4206 12.79 11.613L12.707 11.707C12.5348 11.8792 12.3057 11.9826 12.0627 11.9979C11.8197 12.0132 11.5794 11.9393 11.387 11.79L11.293 11.707L9.293 9.707C9.12082 9.53481 9.01739 9.30571 9.00211 9.06268C8.98683 8.81966 9.06075 8.5794 9.21 8.387L9.293 8.293L11.293 6.293C11.4805 6.10553 11.7348 6.00021 12 6.00021C12.2652 6.00021 12.5195 6.10553 12.707 6.293Z"
                  fill="#858893"
                />
              </svg>
            </button>
          </div>
        )}

        <div className="nav-section">
          <div className="nav-label">
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
              stroke="currentColor"
            >
              <path
                d="M14.1667 7.49967C14.1667 6.34884 13.7 5.30717 12.9467 4.55384C12.1925 3.79967 11.1508 3.33301 10 3.33301C8.84917 3.33301 7.8075 3.79967 7.05333 4.55384C6.3 5.30717 5.83333 6.34884 5.83333 7.49967C5.83333 8.65051 6.3 9.69217 7.05333 10.4455C7.8075 11.1997 8.84917 11.6663 10 11.6663C11.1508 11.6663 12.1925 11.1997 12.9467 10.4455C13.3342 10.0592 13.6415 9.6 13.8509 9.09443C14.0602 8.58887 14.1676 8.04688 14.1667 7.49967ZM5 15.833C5 16.6663 6.875 17.4997 10 17.4997C12.9317 17.4997 15 16.6663 15 15.833C15 14.1663 13.0383 12.4997 10 12.4997C6.875 12.4997 5 14.1663 5 15.833Z"
                fill="currentColor"
              />
            </svg>
            {!collapsed && (
              <>
                Coaches
                <svg
                  className="chevron"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  strokeWidth="2"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                >
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </>
            )}
          </div>
        </div>

        <div className="nav-section">
          <div
            className={`nav-item dropdown-active ${
              collapsed ? "collapsed" : ""
            }`}
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M5.20833 2.5C4.745 4.17375 4.14875 4.74583 2.5 5.20833C4.14875 5.67083 4.745 6.24292 5.20833 7.91667C5.67167 6.24292 6.26792 5.67083 7.91667 5.20833C6.26792 4.74583 5.67167 4.17375 5.20833 2.5ZM5.20833 9.58333C4.745 11.2571 4.14875 11.8292 2.5 12.2917C4.14875 12.7542 4.745 13.3263 5.20833 15C5.67167 13.3263 6.26792 12.7542 7.91667 12.2917C6.26792 11.8292 5.67167 11.2571 5.20833 9.58333ZM9.58333 5.20833C11.2321 4.74583 11.8283 4.17375 12.2917 2.5C12.755 4.17375 13.3512 4.74583 15 5.20833C13.3512 5.67083 12.755 6.24292 12.2917 7.91667C11.8283 6.24292 11.2321 5.67083 9.58333 5.20833Z" />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M14.9167 17.2733L14.8208 17.1775L14.815 17.1721L7.25583 9.61291C7.09961 9.45664 7.01184 9.24472 7.01184 9.02375C7.01184 8.80278 7.09961 8.59085 7.25583 8.43458L8.43458 7.25583C8.59086 7.0996 8.80278 7.01184 9.02375 7.01184C9.24472 7.01184 9.45664 7.0996 9.61292 7.25583L17.2733 14.9167C17.4296 15.0729 17.5173 15.2849 17.5173 15.5058C17.5173 15.7268 17.4296 15.9387 17.2733 16.095L16.095 17.2737C16.0176 17.3512 15.9257 17.4126 15.8246 17.4545C15.7235 17.4964 15.6151 17.5179 15.5056 17.5179C15.3962 17.5179 15.2878 17.4964 15.1866 17.4545C15.0855 17.4126 14.9936 17.3512 14.9163 17.2737M9.42292 10.6017L7.845 9.02375L9.02333 7.845L10.6017 9.42333L9.42292 10.6017Z"
              />
            </svg>
            {!collapsed && (
              <>
                Thinkle Creator
                <svg
                  className="chevron"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  strokeWidth="2"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                >
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </>
            )}
          </div>
          <div className={`nav-subsection ${collapsed ? "collapsed" : ""}`}>
            <Link
              to="/"
              className={`nav-item ${
                location.pathname === "/" ? "active" : ""
              }`}
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M16.6673 15.8334V8.75008C16.6673 8.62071 16.6372 8.49312 16.5793 8.3774C16.5215 8.26169 16.4375 8.16104 16.334 8.08341L10.5007 3.70841C10.3564 3.60023 10.181 3.54175 10.0007 3.54175C9.82034 3.54175 9.6449 3.60023 9.50065 3.70841L3.66732 8.08341C3.56382 8.16104 3.47982 8.26169 3.42196 8.3774C3.36411 8.49312 3.33398 8.62071 3.33398 8.75008V15.8334C3.33398 16.0544 3.42178 16.2664 3.57806 16.4227C3.73434 16.579 3.9463 16.6667 4.16732 16.6667H7.50065C7.72166 16.6667 7.93363 16.579 8.08991 16.4227C8.24619 16.2664 8.33398 16.0544 8.33398 15.8334V13.3334C8.33398 13.1124 8.42178 12.9004 8.57806 12.7442C8.73434 12.5879 8.9463 12.5001 9.16732 12.5001H10.834C11.055 12.5001 11.267 12.5879 11.4232 12.7442C11.5795 12.9004 11.6673 13.1124 11.6673 13.3334V15.8334C11.6673 16.0544 11.7551 16.2664 11.9114 16.4227C12.0677 16.579 12.2796 16.6667 12.5007 16.6667H15.834C16.055 16.6667 16.267 16.579 16.4232 16.4227C16.5795 16.2664 16.6673 16.0544 16.6673 15.8334Z"
                  fill="white"
                  stroke="white"
                  strokeWidth="1.66667"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </svg>

              {!collapsed && "Dashboard"}
              {!collapsed && <div className="active-icon"></div>}
            </Link>

            <Link
              to="/submission"
              className={`nav-item ${
                location.pathname === "/submission" ? "active" : ""
              }`}
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M2.08333 4.16666C2.08333 3.83514 2.21503 3.51719 2.44945 3.28277C2.68387 3.04835 3.00181 2.91666 3.33333 2.91666H16.6667C16.9982 2.91666 17.3161 3.04835 17.5505 3.28277C17.785 3.51719 17.9167 3.83514 17.9167 4.16666C17.9167 4.49818 17.785 4.81612 17.5505 5.05054C17.3161 5.28496 16.9982 5.41666 16.6667 5.41666H3.33333C3.00181 5.41666 2.68387 5.28496 2.44945 5.05054C2.21503 4.81612 2.08333 4.49818 2.08333 4.16666ZM3.33333 8.74999C3.00181 8.74999 2.68387 8.88169 2.44945 9.11611C2.21503 9.35053 2.08333 9.66847 2.08333 9.99999C2.08333 10.3315 2.21503 10.6495 2.44945 10.8839C2.68387 11.1183 3.00181 11.25 3.33333 11.25H8.33333C8.66485 11.25 8.9828 11.1183 9.21722 10.8839C9.45164 10.6495 9.58333 10.3315 9.58333 9.99999C9.58333 9.66847 9.45164 9.35053 9.21722 9.11611C8.9828 8.88169 8.66485 8.74999 8.33333 8.74999H3.33333ZM2.08333 15.8333C2.08333 15.5018 2.21503 15.1839 2.44945 14.9494C2.68387 14.715 3.00181 14.5833 3.33333 14.5833H4.16667C4.49819 14.5833 4.81613 14.715 5.05055 14.9494C5.28497 15.1839 5.41667 15.5018 5.41667 15.8333C5.41667 16.1648 5.28497 16.4828 5.05055 16.7172C4.81613 16.9516 4.49819 17.0833 4.16667 17.0833H3.33333C3.00181 17.0833 2.68387 16.9516 2.44945 16.7172C2.21503 16.4828 2.08333 16.1648 2.08333 15.8333ZM10.4167 15.8333C10.4167 15.5018 10.5484 15.1839 10.7828 14.9494C11.0172 14.715 11.3351 14.5833 11.6667 14.5833H12.5C12.8315 14.5833 13.1495 14.715 13.3839 14.9494C13.6183 15.1839 13.75 15.5018 13.75 15.8333C13.75 16.1648 13.6183 16.4828 13.3839 16.7172C13.1495 16.9516 12.8315 17.0833 12.5 17.0833H11.6667C11.3351 17.0833 11.0172 16.9516 10.7828 16.7172C10.5484 16.4828 10.4167 16.1648 10.4167 15.8333ZM7.5 14.5833C7.16848 14.5833 6.85054 14.715 6.61612 14.9494C6.38169 15.1839 6.25 15.5018 6.25 15.8333C6.25 16.1648 6.38169 16.4828 6.61612 16.7172C6.85054 16.9516 7.16848 17.0833 7.5 17.0833H8.33333C8.66485 17.0833 8.9828 16.9516 9.21722 16.7172C9.45164 16.4828 9.58333 16.1648 9.58333 15.8333C9.58333 15.5018 9.45164 15.1839 9.21722 14.9494C8.9828 14.715 8.66485 14.5833 8.33333 14.5833H7.5ZM14.5833 15.8333C14.5833 15.5018 14.715 15.1839 14.9494 14.9494C15.1839 14.715 15.5018 14.5833 15.8333 14.5833H16.6667C16.9982 14.5833 17.3161 14.715 17.5505 14.9494C17.785 15.1839 17.9167 15.5018 17.9167 15.8333C17.9167 16.1648 17.785 16.4828 17.5505 16.7172C17.3161 16.9516 16.9982 17.0833 16.6667 17.0833H15.8333C15.5018 17.0833 15.1839 16.9516 14.9494 16.7172C14.715 16.4828 14.5833 16.1648 14.5833 15.8333ZM14.955 7.23082C14.8987 7.06649 14.7924 6.92387 14.6511 6.82289C14.5097 6.72191 14.3404 6.66763 14.1667 6.66763C13.993 6.66763 13.8236 6.72191 13.6822 6.82289C13.5409 6.92387 13.4346 7.06649 13.3783 7.23082L13.27 7.54582C13.1467 7.90729 12.9422 8.23569 12.6722 8.50582C12.4022 8.77595 12.0739 8.98063 11.7125 9.10416L11.3975 9.21166C11.2332 9.26797 11.0905 9.37422 10.9896 9.51557C10.8886 9.65691 10.8343 9.82628 10.8343 9.99999C10.8343 10.1737 10.8886 10.3431 10.9896 10.4844C11.0905 10.6258 11.2332 10.732 11.3975 10.7883L11.7125 10.8967C12.074 11.02 12.4024 11.2245 12.6725 11.4945C12.9426 11.7645 13.1473 12.0928 13.2708 12.4542L13.3783 12.7692C13.4346 12.9335 13.5409 13.0761 13.6822 13.1771C13.8236 13.2781 13.993 13.3324 14.1667 13.3324C14.3404 13.3324 14.5097 13.2781 14.6511 13.1771C14.7924 13.0761 14.8987 12.9335 14.955 12.7692L15.0633 12.4542C15.1867 12.0927 15.3912 11.7643 15.6612 11.4942C15.9311 11.224 16.2594 11.0193 16.6208 10.8958L16.9358 10.7883C17.1002 10.732 17.2428 10.6258 17.3438 10.4844C17.4447 10.3431 17.499 10.1737 17.499 9.99999C17.499 9.82628 17.4447 9.65691 17.3438 9.51557C17.2428 9.37422 17.1002 9.26797 16.9358 9.21166L16.6208 9.10332C16.2594 8.97999 15.931 8.77549 15.6608 8.5055C15.3907 8.23551 15.186 7.90722 15.0625 7.54582L14.955 7.23082Z"
                  fill="white"
                />
              </svg>
              {!collapsed && "Submission"}
              {!collapsed && <div className="active-icon"></div>}
            </Link>

            <Link
              to="/earnings"
              className={`nav-item ${
                location.pathname === "/earnings" ? "active" : ""
              }`}
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M4.16667 5.20801C3.55888 5.20801 2.97598 5.44945 2.54621 5.87922C2.11644 6.30899 1.875 6.89189 1.875 7.49967V14.9997C1.875 15.6075 2.11644 16.1904 2.54621 16.6201C2.97598 17.0499 3.55888 17.2913 4.16667 17.2913H15.8333C16.4411 17.2913 17.024 17.0499 17.4538 16.6201C17.8836 16.1904 18.125 15.6075 18.125 14.9997V7.49967C18.125 6.89189 17.8836 6.30899 17.4538 5.87922C17.024 5.44945 16.4411 5.20801 15.8333 5.20801H4.16667ZM13.75 10.208C13.4737 10.208 13.2088 10.3178 13.0134 10.5131C12.8181 10.7085 12.7083 10.9734 12.7083 11.2497C12.7083 11.5259 12.8181 11.7909 13.0134 11.9862C13.2088 12.1816 13.4737 12.2913 13.75 12.2913C14.0263 12.2913 14.2912 12.1816 14.4866 11.9862C14.6819 11.7909 14.7917 11.5259 14.7917 11.2497C14.7917 10.9734 14.6819 10.7085 14.4866 10.5131C14.2912 10.3178 14.0263 10.208 13.75 10.208Z"
                  fill="white"
                />
                <path
                  d="M13.7375 2.55718C13.9842 2.49143 14.2428 2.48325 14.4932 2.53327C14.7436 2.58329 14.9791 2.69018 15.1817 2.84569C15.3842 3.00119 15.5483 3.20115 15.6613 3.43013C15.7743 3.65912 15.8331 3.911 15.8333 4.16635H7.5L13.7375 2.55718Z"
                  fill="white"
                />
              </svg>
              {!collapsed && "Earnings"}
              {!collapsed && <div className="active-icon"></div>}
            </Link>

            <Link
              to="/trending"
              className={`nav-item ${
                location.pathname === "/trending" ? "active" : ""
              }`}
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M2.25 14.6875C2.08333 14.5208 2.00333 14.3231 2.01 14.0942C2.01667 13.8653 2.09667 13.6742 2.25 13.5208L6.64583 9.0625C6.96528 8.74306 7.36111 8.58334 7.83333 8.58334C8.30556 8.58334 8.70139 8.74306 9.02084 9.0625L11.1667 11.2292L15.5 6.9375H14.1667C13.9306 6.9375 13.7328 6.8575 13.5733 6.6975C13.4139 6.5375 13.3339 6.34 13.3333 6.105C13.3328 5.87 13.4128 5.67223 13.5733 5.51167C13.7339 5.35111 13.9317 5.27111 14.1667 5.27167H17.5C17.7361 5.27167 17.9342 5.35167 18.0942 5.51167C18.2542 5.67167 18.3339 5.86945 18.3333 6.105V9.43834C18.3333 9.67445 18.2533 9.8725 18.0933 10.0325C17.9333 10.1925 17.7356 10.2722 17.5 10.2717C17.2644 10.2711 17.0667 10.1914 16.9067 10.0325C16.7467 9.87361 16.6667 9.67556 16.6667 9.43834V8.105L12.3542 12.4167C12.0347 12.7361 11.6389 12.8958 11.1667 12.8958C10.6944 12.8958 10.2986 12.7361 9.97917 12.4167L7.83333 10.2708L3.41667 14.6875C3.26389 14.8403 3.06945 14.9167 2.83333 14.9167C2.59722 14.9167 2.40278 14.8403 2.25 14.6875Z"
                  fill="white"
                />
              </svg>
              {!collapsed && "Trending"}
              {!collapsed && <div className="active-icon"></div>}
            </Link>

            <Link
              to="/refer"
              className={`nav-item ${
                location.pathname === "/refer" ? "active" : ""
              }`}
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4.68 16.6667C4.30667 16.6667 3.98889 16.5356 3.72667 16.2733C3.46445 16.0111 3.33334 15.6936 3.33334 15.3208V4.67918C3.33334 4.30695 3.46445 3.98945 3.72667 3.72668C3.98889 3.46445 4.30667 3.33334 4.68 3.33334H15.3208C15.6931 3.33334 16.0106 3.46445 16.2733 3.72668C16.5356 3.9889 16.6667 4.30668 16.6667 4.68001V8.48251C16.6667 8.59029 16.6269 8.68334 16.5475 8.76168C16.4681 8.83945 16.3689 8.87834 16.25 8.87834C16.1311 8.87834 16.0319 8.83862 15.9525 8.75918C15.8731 8.67973 15.8333 8.58057 15.8333 8.46168V4.68001C15.8333 4.53001 15.7853 4.40695 15.6892 4.31084C15.5931 4.21473 15.4703 4.16668 15.3208 4.16668H4.67917C4.52972 4.16668 4.40695 4.21473 4.31084 4.31084C4.21472 4.40695 4.16667 4.53001 4.16667 4.68001V12.18H7.14167C7.29389 12.18 7.43611 12.2128 7.56834 12.2783C7.70056 12.3439 7.80111 12.4445 7.87 12.58C7.995 12.8417 8.16584 13.0647 8.3825 13.2492C8.59861 13.4336 8.83917 13.5761 9.10417 13.6767C9.18306 13.7106 9.23972 13.7556 9.27417 13.8117C9.30861 13.8678 9.33472 13.9353 9.3525 14.0142C9.40695 14.352 9.49667 14.6781 9.62167 14.9925C9.74667 15.3075 9.89111 15.62 10.055 15.93C10.1444 16.0967 10.1492 16.2611 10.0692 16.4233C9.98917 16.5856 9.86334 16.6667 9.69167 16.6667H4.68ZM6.66667 7.35584H13.3333C13.4522 7.35584 13.5514 7.31612 13.6308 7.23668C13.7103 7.15723 13.75 7.05807 13.75 6.93918C13.75 6.82029 13.7103 6.72112 13.6308 6.64168C13.5514 6.56223 13.4522 6.52251 13.3333 6.52251H6.66667C6.54834 6.52251 6.44917 6.56223 6.36917 6.64168C6.28917 6.72112 6.24945 6.82029 6.25 6.93918C6.25056 7.05807 6.29028 7.15723 6.36917 7.23668C6.44806 7.31612 6.54722 7.35584 6.66667 7.35584ZM6.66667 9.92001H10.7567C10.875 9.92001 10.9742 9.88029 11.0542 9.80084C11.1342 9.7214 11.1739 9.62223 11.1733 9.50334C11.1728 9.38446 11.1331 9.28529 11.0542 9.20584C10.9742 9.1264 10.875 9.08668 10.7567 9.08668H6.66667C6.54834 9.08668 6.44917 9.1264 6.36917 9.20584C6.28972 9.28584 6.25 9.38501 6.25 9.50334C6.25 9.62168 6.28972 9.72084 6.36917 9.80084C6.44861 9.88084 6.54778 9.92057 6.66667 9.92001ZM16.2333 17.5C15.8822 17.5 15.5864 17.3795 15.3458 17.1383C15.1047 16.8978 14.9842 16.6 14.9842 16.245C14.9842 16.2022 14.9869 16.1622 14.9925 16.125C14.9975 16.0878 15.0053 16.0478 15.0158 16.005L13.1842 14.9042C13.0697 14.9947 12.9492 15.0656 12.8225 15.1167C12.6958 15.1667 12.5561 15.1917 12.4033 15.1917C12.0522 15.1917 11.7561 15.0714 11.515 14.8308C11.2739 14.5903 11.1533 14.2942 11.1533 13.9425C11.1533 13.5908 11.2739 13.2945 11.515 13.0533C11.7561 12.8122 12.0522 12.692 12.4033 12.6925C12.5561 12.6925 12.6958 12.7203 12.8225 12.7758C12.9492 12.8314 13.0697 12.905 13.1842 12.9967L15.0317 11.9008C14.9461 11.5142 15.0294 11.1683 15.2817 10.8633C15.5339 10.5583 15.8567 10.4056 16.25 10.405C16.6017 10.405 16.8978 10.5256 17.1383 10.7667C17.3789 11.0078 17.4994 11.3042 17.5 11.6558C17.5006 12.0075 17.38 12.3036 17.1383 12.5442C16.8978 12.7853 16.6017 12.9058 16.25 12.9058C16.0972 12.9058 15.9547 12.8803 15.8225 12.8292C15.6908 12.7786 15.5678 12.7081 15.4533 12.6175L13.6217 13.7133C13.6433 13.8022 13.6542 13.882 13.6542 13.9525C13.6542 14.0236 13.6433 14.1036 13.6217 14.1925L15.4533 15.2883C15.5678 15.1978 15.6883 15.127 15.815 15.0758C15.9417 15.0253 16.0814 15 16.2342 15C16.5853 15 16.8814 15.1206 17.1225 15.3617C17.3636 15.6022 17.4842 15.8983 17.4842 16.25C17.4842 16.6017 17.3636 16.8978 17.1225 17.1383C16.8819 17.3795 16.5858 17.5 16.2342 17.5"
                  fill="white"
                />
              </svg>
              {!collapsed && "Refer"}
              {!collapsed && <div className="active-icon"></div>}
            </Link>

            <Link
              to="/help"
              className={`nav-item ${
                location.pathname === "/help" ? "active" : ""
              }`}
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M10.0233 14.3583C10.2078 14.3583 10.3633 14.295 10.49 14.1683C10.6167 14.0417 10.68 13.8861 10.68 13.7017C10.68 13.5172 10.6161 13.3617 10.4883 13.235C10.3617 13.1083 10.2061 13.045 10.0217 13.045C9.83722 13.045 9.68167 13.1086 9.555 13.2358C9.42833 13.3631 9.36528 13.5186 9.36583 13.7025C9.36583 13.8869 9.42917 14.0425 9.55583 14.1692C9.68361 14.2958 9.83944 14.3592 10.0233 14.3592M9.5925 11.5992H10.3975C10.4186 11.2369 10.4867 10.9425 10.6017 10.7158C10.7167 10.4897 10.9531 10.2008 11.3108 9.84917C11.6831 9.4775 11.9597 9.14444 12.1408 8.85C12.3219 8.55556 12.4128 8.215 12.4133 7.82833C12.4133 7.17167 12.1828 6.64833 11.7217 6.25833C11.26 5.86833 10.7139 5.67333 10.0833 5.67333C9.48389 5.67333 8.975 5.83611 8.55667 6.16167C8.13833 6.48778 7.83194 6.86222 7.6375 7.285L8.40417 7.6025C8.5375 7.29917 8.72833 7.03111 8.97667 6.79833C9.225 6.565 9.58333 6.44833 10.0517 6.44833C10.5917 6.44833 10.9861 6.59667 11.235 6.89333C11.4844 7.19 11.6092 7.51611 11.6092 7.87167C11.6092 8.16056 11.5311 8.41833 11.375 8.645C11.2194 8.87222 11.0167 9.10056 10.7667 9.33C10.2833 9.77556 9.96667 10.1533 9.81667 10.4633C9.66667 10.7733 9.59194 11.1519 9.5925 11.5992ZM10.0025 17.5C8.96583 17.5 7.99083 17.3033 7.0775 16.91C6.16472 16.5161 5.37056 15.9817 4.695 15.3067C4.01944 14.6317 3.48472 13.8383 3.09083 12.9267C2.69694 12.015 2.5 11.0403 2.5 10.0025C2.5 8.96472 2.69694 7.98972 3.09083 7.0775C3.48417 6.16472 4.01778 5.37056 4.69167 4.695C5.36556 4.01944 6.15917 3.48472 7.0725 3.09083C7.98583 2.69694 8.96083 2.5 9.9975 2.5C11.0342 2.5 12.0092 2.69694 12.9225 3.09083C13.8353 3.48417 14.6294 4.01806 15.305 4.6925C15.9806 5.36694 16.5153 6.16056 16.9092 7.07333C17.3031 7.98611 17.5 8.96083 17.5 9.9975C17.5 11.0342 17.3033 12.0092 16.91 12.9225C16.5167 13.8358 15.9822 14.63 15.3067 15.305C14.6311 15.98 13.8378 16.5147 12.9267 16.9092C12.0156 17.3036 11.0408 17.5006 10.0025 17.5Z"
                  fill="white"
                />
              </svg>
              {!collapsed && "Help"}
              {!collapsed && <div className="active-icon"></div>}
            </Link>

            <Link
              to="/profile"
              className={`nav-item ${
                location.pathname === "/profile" ? "active" : ""
              }`}
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M9.99934 1.66699C11.0937 1.66699 12.1773 1.88253 13.1884 2.30132C14.1994 2.7201 15.1181 3.33393 15.8919 4.10775C16.6657 4.88157 17.2796 5.80023 17.6984 6.81128C18.1171 7.82233 18.3327 8.90596 18.3327 10.0003C18.3327 14.6027 14.6017 18.3337 9.99934 18.3337C5.39699 18.3337 1.66602 14.6027 1.66602 10.0003C1.66602 5.39797 5.39699 1.66699 9.99934 1.66699ZM10.8327 10.8337H9.16602C7.10293 10.8337 5.33172 12.0832 4.56777 13.8668C5.77652 15.5618 7.75887 16.667 9.99934 16.667C12.2398 16.667 14.2221 15.5618 15.4309 13.8667C14.667 12.0832 12.8958 10.8337 10.8327 10.8337ZM9.99934 4.16699C8.61863 4.16699 7.49934 5.28629 7.49934 6.66699C7.49934 8.0477 8.61863 9.16699 9.99934 9.16699C11.38 9.16699 12.4993 8.0477 12.4993 6.66699C12.4993 5.28629 11.3801 4.16699 9.99934 4.16699Z"
                  fill="white"
                />
              </svg>
              {!collapsed && "Profile"}
              {!collapsed && <div className="active-icon"></div>}
            </Link>

            <Link
              to="/content-library"
              className={`nav-item ${
                location.pathname === "/content-library" ? "active" : ""
              }`}
            >
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" > 
                <g clip-path="url(#clip0_1_63)"> <mask id="mask0_1_63" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="20" >
                  <path d="M9.99935 18.3327C14.6018 18.3327 18.3327 14.6018 18.3327 9.99935C18.3327 5.39685 14.6018 1.66602 9.99935 1.66602C5.39685 1.66602 1.66602 5.39685 1.66602 9.99935C1.66602 14.6018 5.39685 18.3327 9.99935 18.3327Z" fill="white" stroke="white" stroke-width="2" stroke-linejoin="round" /> <path d="M8.33203 9.99995V7.11328L10.832 8.55661L13.332 9.99995L10.832 11.4433L8.33203 12.8866V9.99995Z" fill="black" stroke="black" stroke-width="2" stroke-linejoin="round" /> </mask>
                  <g mask="url(#mask0_1_63)"> <path d="M0 0H20V20H0V0Z" fill="white" /> </g>
                </g>
                <defs> <clipPath id="clip0_1_63"> <rect width="20" height="20" fill="white" /> </clipPath> </defs>
              </svg>
              {!collapsed && "Content Library"}
              {!collapsed && <div className="active-icon"></div>}
            </Link>
          </div>
        </div>

        <div className="sidebar-footer">
          <div className="nav-item">
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M10.0233 14.3583C10.2078 14.3583 10.3633 14.295 10.49 14.1683C10.6167 14.0417 10.68 13.8861 10.68 13.7017C10.68 13.5172 10.6161 13.3617 10.4883 13.235C10.3617 13.1083 10.2061 13.045 10.0217 13.045C9.83722 13.045 9.68167 13.1086 9.555 13.2358C9.42833 13.3631 9.36528 13.5186 9.36583 13.7025C9.36583 13.8869 9.42917 14.0425 9.55583 14.1692C9.68361 14.2958 9.83944 14.3592 10.0233 14.3592M9.5925 11.5992H10.3975C10.4186 11.2369 10.4867 10.9425 10.6017 10.7158C10.7167 10.4897 10.9531 10.2008 11.3108 9.84917C11.6831 9.4775 11.9597 9.14444 12.1408 8.85C12.3219 8.55556 12.4128 8.215 12.4133 7.82833C12.4133 7.17167 12.1828 6.64833 11.7217 6.25833C11.26 5.86833 10.7139 5.67333 10.0833 5.67333C9.48389 5.67333 8.975 5.83611 8.55667 6.16167C8.13833 6.48778 7.83194 6.86222 7.6375 7.285L8.40417 7.6025C8.5375 7.29917 8.72833 7.03111 8.97667 6.79833C9.225 6.565 9.58333 6.44833 10.0517 6.44833C10.5917 6.44833 10.9861 6.59667 11.235 6.89333C11.4844 7.19 11.6092 7.51611 11.6092 7.87167C11.6092 8.16056 11.5311 8.41833 11.375 8.645C11.2194 8.87222 11.0167 9.10056 10.7667 9.33C10.2833 9.77556 9.96667 10.1533 9.81667 10.4633C9.66667 10.7733 9.59194 11.1519 9.5925 11.5992ZM10.0025 17.5C8.96583 17.5 7.99083 17.3033 7.0775 16.91C6.16472 16.5161 5.37056 15.9817 4.695 15.3067C4.01944 14.6317 3.48472 13.8383 3.09083 12.9267C2.69694 12.015 2.5 11.0403 2.5 10.0025C2.5 8.96472 2.69694 7.98972 3.09083 7.0775C3.48417 6.16472 4.01778 5.37056 4.69167 4.695C5.36556 4.01944 6.15917 3.48472 7.0725 3.09083C7.98583 2.69694 8.96083 2.5 9.9975 2.5C11.0342 2.5 12.0092 2.69694 12.9225 3.09083C13.8353 3.48417 14.6294 4.01806 15.305 4.6925C15.9806 5.36694 16.5153 6.16056 16.9092 7.07333C17.3031 7.98611 17.5 8.96083 17.5 9.9975C17.5 11.0342 17.3033 12.0092 16.91 12.9225C16.5167 13.8358 15.9822 14.63 15.3067 15.305C14.6311 15.98 13.8378 16.5147 12.9267 16.9092C12.0156 17.3036 11.0408 17.5006 10.0025 17.5Z" />
            </svg>
            {!collapsed && "Contact Support"}
          </div>

          <div className="nav-item">
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M4.16667 17.5C3.70833 17.5 3.31611 17.3369 2.99 17.0108C2.66389 16.6847 2.50056 16.2922 2.5 15.8333V4.16667C2.5 3.70833 2.66333 3.31611 2.99 2.99C3.31667 2.66389 3.70889 2.50056 4.16667 2.5H9.16667C9.40278 2.5 9.60083 2.58 9.76083 2.74C9.92083 2.9 10.0006 3.09778 10 3.33333C9.99944 3.56889 9.91944 3.76694 9.76 3.9275C9.60055 4.08806 9.40278 4.16778 9.16667 4.16667H4.16667V15.8333H9.16667C9.40278 15.8333 9.60083 15.9133 9.76083 16.0733C9.92083 16.2333 10.0006 16.4311 10 16.6667C9.99944 16.9022 9.91944 17.1003 9.76 17.2608C9.60055 17.4214 9.40278 17.5011 9.16667 17.5H4.16667ZM14.3125 10.8333H8.33333C8.09722 10.8333 7.89944 10.7533 7.74 10.5933C7.58055 10.4333 7.50056 10.2356 7.5 10C7.49944 9.76444 7.57944 9.56667 7.74 9.40667C7.90056 9.24667 8.09833 9.16667 8.33333 9.16667H14.3125L12.75 7.60417C12.5972 7.45139 12.5208 7.26389 12.5208 7.04167C12.5208 6.81944 12.5972 6.625 12.75 6.45833C12.9028 6.29167 13.0972 6.20472 13.3333 6.1975C13.5694 6.19028 13.7708 6.27028 13.9375 6.4375L16.9167 9.41667C17.0833 9.58333 17.1667 9.77778 17.1667 10C17.1667 10.2222 17.0833 10.4167 16.9167 10.5833L13.9375 13.5625C13.7708 13.7292 13.5731 13.8092 13.3442 13.8025C13.1153 13.7958 12.9172 13.7089 12.75 13.5417C12.5972 13.375 12.5244 13.1772 12.5317 12.9483C12.5389 12.7194 12.6186 12.5283 12.7708 12.375L14.3125 10.8333Z" />
            </svg>
            {!collapsed && "Logout"}
          </div>
        </div>
      </aside>
      <Modal
        isOpen={isModalOpen}
        onClose={closeModal}
        title="Bank Account Details"
      >
        <BankDetailsForm onClose={closeModal} />
      </Modal>
    </>
  );
};

export default Sidebar;
